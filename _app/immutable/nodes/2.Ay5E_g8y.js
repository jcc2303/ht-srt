import{a as L,t as H,c as ae}from"../chunks/disclose-version.BIeA9UTF.js";import{z as ne,h as se,i as R,s as F,j as le,B as ie,y as oe,L as Q,H as ue,k as z,l as U,o as N,G as ce,m as Z,n as j,p as fe,_ as de,O as G,T as y,$ as ve,a0 as pe,R as A,a1 as K,a2 as _e,a3 as he,K as ge,a4 as be,a5 as me,D as xe,N as ye,P as Te,V as E,X as I,g as v,W as w,f as X,U as P}from"../chunks/runtime.KbSg88Xv.js";import{e as C,s as $}from"../chunks/render.SWiub_5K.js";import{i as Y,b as we}from"../chunks/this.QUvJNAaO.js";import{s as Ie,d as Ee}from"../chunks/misc.C-iv5urO.js";import{i as Se}from"../chunks/lifecycle.Bgn-jLO4.js";const ke=!0;let W=null;function Re(s,e){return e}function Ae(s,e,t,a){for(var f=[],c=e.length,i=0;i<c;i++)he(e[i].e,f,!0);var p=c>0&&f.length===0&&t!==null;if(p){var g=t.parentNode;ge(g),g.append(t),a.clear(),S(s,e[0].prev,e[c-1].next)}be(f,()=>{for(var r=0;r<c;r++){var l=e[r];p||(a.delete(l.k),S(s,l.prev,l.next)),me(l.e,!p)}})}function De(s,e,t,a,f,c=null){var i=s,p={flags:e,items:new Map,first:null};{var g=s;i=R?F(ie(g)):g.appendChild(ne())}R&&le();var r=null;se(()=>{var l=t(),u=oe(l)?l:l==null?[]:Q(l),d=u.length;let b=!1;if(R){var _=i.data===ue;_!==(d===0)&&(i=z(),F(i),U(!1),b=!0)}if(R){for(var T=null,n,o=0;o<d;o++){if(N.nodeType===8&&N.data===ce){i=N,b=!0,U(!1);break}var m=u[o],h=a(m,o);n=ee(N,p,T,null,m,h,o,f,e),p.items.set(h,n),T=n}d>0&&F(z())}R||Ce(u,p,i,f,e,a),c!==null&&(d===0?r?Z(r):r=j(()=>c(i)):r!==null&&fe(r,()=>{r=null})),b&&U(!0)}),R&&(i=N)}function Ce(s,e,t,a,f,c){var i=s.length,p=e.items,g=e.first,r=g,l,u=null,d=[],b=[],_,T,n,o;for(o=0;o<i;o+=1){if(_=s[o],T=c(_,o),n=p.get(T),n===void 0){var m=r?r.e.nodes_start:t;u=ee(m,e,u,u===null?e.first:u.next,_,T,o,a,f),p.set(T,u),d=[],b=[],r=u.next;continue}if(Le(n,_,o),n.e.f&de&&Z(n.e),n!==r){if(l!==void 0&&l.has(n)){if(d.length<b.length){var h=b[0],x;u=h.prev;var M=d[0],k=d[d.length-1];for(x=0;x<d.length;x+=1)J(d[x],h,t);for(x=0;x<b.length;x+=1)l.delete(b[x]);S(e,M.prev,k.next),S(e,u,M),S(e,k,h),r=h,u=k,o-=1,d=[],b=[]}else l.delete(n),J(n,r,t),S(e,n.prev,n.next),S(e,n,u===null?e.first:u.next),S(e,u,n),u=n;continue}for(d=[],b=[];r!==null&&r.k!==T;)(l??(l=new Set)).add(r),b.push(r),r=r.next;if(r===null)continue;n=r}d.push(n),u=n,r=n.next}if(r!==null||l!==void 0){for(var D=l===void 0?[]:Q(l);r!==null;)D.push(r),r=r.next;var V=D.length;if(V>0){var O=i===0?t:null;Ae(e,D,O,p)}}G.first=e.first&&e.first.e,G.last=u&&u.e}function Le(s,e,t,a){y(s.v,e),s.i=t}function ee(s,e,t,a,f,c,i,p,g){var r=W;try{var l=(g&ve)!==0,u=(g&pe)===0,d=l?u?A(f):K(f):f,b=g&_e?K(i):i,_={i:b,v:d,k:c,a:null,e:null,prev:t,next:a};return W=_,_.e=j(()=>p(s,d,b),R),_.e.prev=t&&t.e,_.e.next=a&&a.e,t===null?e.first=_:(t.next=_,t.e.next=_.e),a!==null&&(a.prev=_,a.e.prev=_.e),_}finally{W=r}}function J(s,e,t){for(var a=s.next?s.next.e.nodes_start:t,f=e?e.e.nodes_start:t,c=s.e.nodes_start;c!==a;){var i=xe(c);f.before(c),c=i}}function S(s,e,t){e===null?s.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Ne(s,e,t){if(t){if(s.classList.contains(e))return;s.classList.add(e)}else{if(!s.classList.contains(e))return;s.classList.remove(e)}}const He=ke;function Me(s){const e=/(\d+)\n(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})\n([\s\S]*?)(?=\n\n|\n*$)/g;let t;const a=[];function f(c){const[i,p,g]=c.split(":"),[r,l]=g.split(",");return parseInt(i)*36e5+parseInt(p)*6e4+parseInt(r)*1e3+parseInt(l)}for(;(t=e.exec(s))!==null;)a.push({id:t[1],start:f(t[2]),end:f(t[3]),text:t[4].trim()});return a}var Oe=H('<span class="controls mb-4"><button class="btn bg-blue-500 text-white p-2 rounded-lg mr-2"> </button> <button class="btn bg-red-500 text-white p-2 rounded-lg">Reset</button></span> <span class="time-controls mt-4"><button class="btn bg-gray-500 text-white p-2 rounded-lg mr-2">-5s</button> <button class="btn bg-gray-500 text-white p-2 rounded-lg">+5s</button></span> <span class="time-display mt-4"><i class="m-5"> </i> <i class="m-5"> </i></span>',1),Pe=H('<p class="subtitle text-xl transition-all duration-300 ease-in-out svelte-1en22um"> </p>'),$e=H('<div class="relative w-full text-left p-4"><input type="file" accept=".srt" class="file-input p-2 border border-gray-300 rounded-lg mb-4"> <!> <div class="subtitle-container bg-slate-700 text-white mt-4 p-8 flex flex-col gap-2 overflow-y-auto overflow-x-hidden svelte-1en22um" style="max-height: 500px;"></div></div>');function Ve(s,e){ye(e,!1);let t=A([]),a=A(0),f,c=A(!1),i=A(-1);function p(n){const o=n.target.files[0];if(o&&o.name.endsWith(".srt")){const m=new FileReader;m.onload=h=>{y(t,Me(h.target.result)),g()},m.readAsText(o)}}function g(){return v(t).length>0?v(t)[v(t).length-1].end:0}function r(){y(c,!v(c)),v(c)?f=setInterval(()=>{y(a,v(a)+100),u()},100):clearInterval(f)}function l(){clearInterval(f),y(c,!1),y(a,0),y(i,-1)}function u(){const n=v(t).findIndex(o=>v(a)>=o.start&&v(a)<=o.end);if(n!==-1&&n!==v(i)){y(i,n);const o=document.querySelector(".subtitle.focused");o&&o.scrollIntoView({behavior:"smooth",block:"center"})}}Se();var d=$e(),b=E(d),_=I(b,2);Y(_,()=>v(t).length>0,n=>{var o=Oe(),m=X(o),h=E(m),x=E(h);w(h);var M=I(h,2);w(m);var k=I(m,2),D=E(k),V=I(D,2);w(k);var O=I(k,2),B=E(O),te=E(B);P(()=>$(te,`Current Time: ${new Date(v(a)).toISOString().substr(11,8)??""}`)),w(B);var q=I(B,2),re=E(q);P(()=>$(re,`Total Duration: ${new Date(g()).toISOString().substr(11,8)??""}`)),w(q),w(O),P(()=>$(x,v(c)?"Pause":"Play")),C("click",h,r),C("click",M,l),C("click",D,()=>y(a,v(a)-5e3)),C("click",V,()=>y(a,v(a)+5e3)),L(n,o)});var T=I(_,2);De(T,5,()=>v(t),Re,(n,o,m)=>{var h=Pe(),x=E(h);w(h),P(()=>{Ne(h,"focused",m===v(i)),$(x,v(o).text)}),L(n,h)}),w(T),w(d),C("change",b,p),L(s,d),Te()}var Be=H('<video controls width="600" class="mx-auto"><source src="path/to/your/video.mp4" type="video/mp4"></video>'),Fe=H("<!> <!> <!>",1);function Ge(s,e){let t=A(),a=A(0);const f=()=>{y(a,v(t).currentTime*1e3)};var c=Fe(),i=X(c);Y(i,()=>He,r=>{var l=ae(),u=X(l);Ie(u,Ee(e),{}),L(r,l)});var p=I(i,2);Y(p,()=>v(t),r=>{var l=Be();we(l,u=>y(t,u),()=>v(t)),C("timeupdate",l,f),L(r,l)});var g=I(p,2);Ve(g,{get currentTime(){return v(a)}}),L(s,c)}export{Ge as component};
