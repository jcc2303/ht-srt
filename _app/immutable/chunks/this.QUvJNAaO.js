import{h as y,i as c,j as A,H as R,k as q,s as N,l as u,m as T,n as d,p as E,o as b,E as g,q as v,t as x,b as F,v as H,S as L}from"./runtime.KbSg88Xv.js";function Y(a,f,e,n=null,i=!1){c&&A();var s=a,r=null,t=null,l=null,_=i?g:0;y(()=>{if(l===(l=!!f()))return;let h=!1;if(c){const k=s.data===R;l===k&&(s=q(),N(s),u(!1),h=!0)}l?(r?T(r):r=d(()=>e(s)),t&&E(t,()=>{t=null})):(t?T(t):n&&(t=d(()=>n(s))),r&&E(r,()=>{r=null})),h&&u(!0)},_),c&&(s=b)}function S(a,f){return a===f||(a==null?void 0:a[L])===f}function j(a={},f,e,n){return v(()=>{var i,s;return x(()=>{i=s,s=[],F(()=>{a!==e(...s)&&(f(a,...s),i&&S(e(...i),a)&&f(null,...i))})}),()=>{H(()=>{s&&S(e(...s),a)&&f(null,...s)})}}),a}export{j as b,Y as i};
